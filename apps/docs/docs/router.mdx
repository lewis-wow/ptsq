# Router

Routers describes the api shape.
It creates some kind of sdk-like type.

The strength of this model lies in the nesting of routers into one `Base` router.

Routers can be merged across files.

```ts title="server.ts"
import { createServer, expressAdapter, ExpressAdapterContext } from '@ptsq/server';
import express from 'express';
import { z } from 'zod';
import { userRouter } from './userRouter';

const app = express();

const createContext = ({ req, res }: ExpressAdapterContext) => ({
  req,
  res,
});

const { middleware, resolver, router, serve, scalar } = createServer({
  ctx: createContext,
});

// routers can be merged as you want
const baseRouter = router({
  a: router({
    b: router({
      c: router({
        user: userRouter,
      }),
    }),
  }),
});

export type BaseRouter = typeof baseRouter;

app.use('/ptsq', expressAdapter(serve({ router: baseRouter })));

app.listen(4000);
```

```ts title="client.ts"
import { createProxyClient } from '@ptsq/client';
import { BaseRouter } from './server';

const client = createProxyClient<BaseRouter>({
  url: 'http://localhost:4000/ptsq'
});

const result = await client.a.b.c.user.current.query();

// autocompletion
const userList = await client.a. /* b.c.user.userList.query() */
```

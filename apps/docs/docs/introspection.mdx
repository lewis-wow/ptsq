# Introspection query

```ts title="server.ts"
import { createServer } from '@ptsq/server';

createServer({
  introspection: '*',
});
```

The introspected schema is in JSON schema format.
The `introspection-cli` tool automatically converts JSON schema into Typescript interfaces.
If you want you can use raw output of the schema by `--raw` option in the cli or fetch the schema by yourself.

```ts
const ptsqJSONSchema = await fetch('https://example.com/ptsq/introspection');
```

## Introspection query for only some hosts

```ts title="server.ts"
import { createServer } from '@ptsq/server';

createServer({
  introspection: ['http://localhost:3000' /* ... */],
});
```

## CLI

```bash
instrospection-cli --url="http://localhost:4000/ptsq/introspection" --out="schema.generated.ts"
```

### raw introspection

```bash
instrospection-cli --url="http://localhost:4000/ptsq/introspection" --out="schema.generated.ts" --lang="raw"
```

### Currently supported languages

- ts
- raw
